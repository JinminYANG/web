"use strict";var timeTable=document.querySelector(".timeInfo__timeTable"),timeTableList=timeTable.querySelectorAll(".timeTable__list"),classTable=document.querySelector(".classInfo__classTable"),classSeatClass=classTable.querySelectorAll(".classList__seatClass"),classSeatNumber=classTable.querySelectorAll(".classList__seatNumber"),tiketForm=document.getElementById("tiket__form"),vipPrice=0,rPrice=0,sPrice=0,aPrice=0,bPrice=0,wheelPrice=0,resultPrice=void 0;function validate(e){tiketForm.resultBox__date.value?tiketForm.resultBox__time.value?!tiketForm.resultBox__vipClass.value&&!tiketForm.resultBox__rClass.value&&!tiketForm.resultBox__sClass.value&&!tiketForm.resultBox__aClass.value&&!tiketForm.resultBox__bClass.value&&!tiketForm.resultBox__wheelClass.value&&(alert("\uAD6C\uC785\uD560 \uD45C\uB97C \uC120\uD0DD\uD558\uC138\uC694"),e.preventDefault()):(alert("\uC2DC\uAC04\uC744 \uC120\uD0DD\uD558\uC138\uC694"),e.preventDefault()):(alert("\uB0A0\uC9DC\uB97C \uC120\uD0DD\uD558\uC138\uC694"),e.preventDefault())}function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function showResult(thisElement){var resultTimeBox=document.getElementById("resultBox__time"),resultVipBox=document.getElementById("resultBox__vipClass"),resultRBox=document.getElementById("resultBox__rClass"),resultSBox=document.getElementById("resultBox__sClass"),resultABox=document.getElementById("resultBox__aClass"),resultBBox=document.getElementById("resultBox__bClass"),resultWheelBox=document.getElementById("resultBox__wheelClass"),resultPriceBox=document.getElementById("resultBox__price");if(thisElement.classList.contains("timeTable__list")){var timeText=thisElement.firstElementChild.innerText;resultTimeBox.value=timeText}else if(thisElement.classList.contains("classList__seatClass")){var price=JSON.parse(thisElement.parentNode.children[1].innerText.split(",")[0]),tiketCount=JSON.parse(thisElement.parentNode.children[2].value);thisElement.parentNode.classList.contains("vipClass")?(resultVipBox.parentNode.style.display="block",vipPrice=1e3*(price*tiketCount),resultVipBox.value=tiketCount+"\uB9E4 "+numberWithCommas(vipPrice)+"\uC6D0"):thisElement.parentNode.classList.contains("rClass")?(resultRBox.parentNode.style.display="block",rPrice=1e3*(price*tiketCount),resultRBox.value=tiketCount+"\uB9E4 "+numberWithCommas(rPrice)+"\uC6D0"):thisElement.parentNode.classList.contains("sClass")?(resultSBox.parentNode.style.display="block",sPrice=1e3*(price*tiketCount),resultSBox.value=tiketCount+"\uB9E4 "+numberWithCommas(sPrice)+"\uC6D0"):thisElement.parentNode.classList.contains("aClass")?(resultABox.parentNode.style.display="block",aPrice=1e3*(price*tiketCount),resultABox.value=tiketCount+"\uB9E4 "+numberWithCommas(aPrice)+"\uC6D0"):thisElement.parentNode.classList.contains("bClass")?(resultBBox.parentNode.style.display="block",bPrice=1e3*(price*tiketCount),resultBBox.value=tiketCount+"\uB9E4 "+numberWithCommas(bPrice)+"\uC6D0"):thisElement.parentNode.classList.contains("wheelClass")&&(resultWheelBox.parentNode.style.display="block",wheelPrice=1e3*(price*tiketCount),resultWheelBox.value=tiketCount+"\uB9E4 "+numberWithCommas(wheelPrice)+"\uC6D0"),thisElement.parentNode.classList.contains("active")?classSeatNumber.forEach(function(e){e.addEventListener("change",function(i){var thisClassList=i.target.parentNode.classList;price=JSON.parse(i.target.parentNode.children[1].innerText.split(",")[0]),tiketCount=JSON.parse(i.target.parentNode.children[2].value),thisClassList.contains("vipClass")?(resultVipBox.parentNode.style.display="block",vipPrice=1e3*(price*tiketCount),resultVipBox.value=tiketCount+"\uB9E4 "+numberWithCommas(vipPrice)+"\uC6D0"):thisClassList.contains("rClass")?(resultRBox.parentNode.style.display="block",rPrice=1e3*(price*tiketCount),resultRBox.value=tiketCount+"\uB9E4 "+numberWithCommas(rPrice)+"\uC6D0"):thisClassList.contains("sClass")?(resultSBox.parentNode.style.display="block",sPrice=1e3*(price*tiketCount),resultSBox.value=tiketCount+"\uB9E4 "+numberWithCommas(sPrice)+"\uC6D0"):thisClassList.contains("aClass")?(resultABox.parentNode.style.display="block",aPrice=1e3*(price*tiketCount),resultABox.value=tiketCount+"\uB9E4 "+numberWithCommas(aPrice)+"\uC6D0"):thisClassList.contains("bClass")?(resultBBox.parentNode.style.display="block",bPrice=1e3*(price*tiketCount),resultBBox.value=tiketCount+"\uB9E4 "+numberWithCommas(bPrice)+"\uC6D0"):thisClassList.contains("wheelClass")&&(resultWheelBox.parentNode.style.display="block",wheelPrice=1e3*(price*tiketCount),resultWheelBox.value=tiketCount+"\uB9E4 "+numberWithCommas(wheelPrice)+"\uC6D0"),resultPrice=vipPrice+rPrice+sPrice+aPrice+bPrice+wheelPrice,resultPriceBox.value=numberWithCommas(resultPrice)+"\uC6D0"})}):thisElement.parentNode.classList.contains("vipClass")?(resultVipBox.parentNode.style.display="none",vipPrice=null,resultVipBox.value=vipPrice):thisElement.parentNode.classList.contains("rClass")?(resultRBox.parentNode.style.display="none",rPrice=null,resultRBox.value=rPrice):thisElement.parentNode.classList.contains("sClass")?(resultSBox.parentNode.style.display="none",sPrice=null,resultSBox.value=sPrice):thisElement.parentNode.classList.contains("aClass")?(resultABox.parentNode.style.display="none",aPrice=null,resultABox.value=aPrice):thisElement.parentNode.classList.contains("bClass")?(resultBBox.parentNode.style.display="none",bPrice=null,resultBBox.value=bPrice):thisElement.parentNode.classList.contains("wheelClass")&&(resultWheelBox.parentNode.style.display="none",wheelPrice=null,resultWheelBox.value=wheelPrice),resultPrice=vipPrice+rPrice+sPrice+aPrice+bPrice+wheelPrice,resultPriceBox.value=numberWithCommas(resultPrice)+"\uC6D0"}}function classHandler(){this.classList.contains("timeTable__list")?(timeTableList.forEach(function(e){e.classList.remove("active")}),this.classList.add("active")):this.classList.contains("classList__seatClass")&&this.parentNode.classList.toggle("active"),showResult(this)}function init(){timeTableList.forEach(function(e){e.addEventListener("click",classHandler)}),classSeatClass.forEach(function(e){e.addEventListener("click",classHandler)}),tiketForm.addEventListener?tiketForm.addEventListener("submit",validate,!1):tiketForm.attachEvent&&tiketForm.attachEvent("onsubmit",validate)}init();